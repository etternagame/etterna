<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=x-sjis">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title>BM98FinalSecret</title>
</head>

<body bgcolor="#F1DBC0">

<p><font color="#008080" size="4" face="ＤＦＰPOP体"><strong>ＢＭ９８ＦｉｎａｌＳｅｃｒｅｔ</strong></font></p>

<p>ＢＭ９８最後の秘密とは、Ｅｘｔｅｎｄｅｄ
Ｃｈａｒａｃｔｅｒ機能、すなわち、ゲーム中のキャラクターすべてをＢＭＳファイル側で変更する機能である。</p>

<p>ただし、この機能は、拡張し納得のいくものになり次第、公開しようと思っていたのだが、いろいろ事情があって、ＢＭ９８そのものの開発をうち切ることになり、日の目を見ることのなくなった機能である。</p>

<p>そこで、この機能を使った曲の、ＢＭＲの方での動作は保証できない。あくまでBM98ver3.18用として認識していただきたい。また、それ以降のバージョンで、きくちゃんによるものは、ビットマップファイルが書き換えられているので、このテキストの内容の限りではない。</p>

<p>また、基本的にＢＭ９８について、やねうらおは一切サポートしないと言っているの同様、ここの内容についても、一切サポートしないので、質問メールは勘弁してほしい。</p>

<p>それから、スプライトナンバー等、ＢＭ９８固有の定数が出てくるが、これらは、ＢＭＲとは一切無縁である。</p>

<p>　</p>

<p>　</p>

<p>まず、この機能のことをヘルプでも少し触れているので、それを抜粋する。</p>

<p>--------------------------------------------------</p>

<p>Extended Character (BM98 v3.18以降)　＜非公開機能＞</p>

<p>以下は、やねうらおのメモだとお考えください（笑）</p>

<p>・ゲーム中の任意のスプライトをユーザー定義する機能。</p>

<p>#ExtChr &lt;SpriteNo.&gt; &lt;BMPNo.&gt;</p>

<p>&lt;start_x&gt; &lt;start_y&gt; &lt;end_x&gt; &lt;end_y&gt;</p>

<p>{ &lt;offset_x&gt; &lt;offset_y&gt; { &lt;x&gt; &lt;y&gt; } } </p>

<p>通例、これとExtended Object機能とを併用して使う。</p>

<p>スプライトNo.とキャラクタNo.とは意味が違う。--------------------------------------------------</p>

<p>また、Extended Object機能と併用して使うと書いてあるが、そいつは、どこにあるかというと、チャンネルナンバー05番のところにちゃっかり書いてある。</p>

<p>--------------------------------------------------</p>

<p>05　　 [Extended Object]　＜非公開機能＞</p>

<p>　　落下してくるオブジェを別のキャラクターナンバーのものにすり替える機能。この行の下にある行のオブジェに順番に割り振られる。</p>

<p>--------------------------------------------------</p>

<p>このチャンネルナンバーの次の行に書いてあるオブジェ配置データに対して、こいつが有効であることはわかるが、キャラクターとして何をどう書けば良いのか、それがまったくもって不明確である。</p>

<p>実を言うと、やねうらおもよくは覚えていない（笑）</p>

<p>なんか、あのときは、坂本龍一の曲をモチーフに、自分なりに編曲を行なっていて、そのとき１オクターブのピアノ鍵盤が出てるＢＭＳファイルを作るつもりで、こんな機能をつけた覚えだけはある。</p>

<p>そんなわけで、ちょっとソーステキストを覗いてみよう。</p>

<p><font face="ＭＳ ゴシック">int ExtChr[] = {<br>
0,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,<br>
// 0x ユーザー定義可能部分<br>
976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,<br>
// 1x　 ユーザー定義可能部分<br>
992,993,994,995,996,997,998,999,1000,1001,1002,1003,1004,1005,1006,1007,<br>
// 2x ユーザー定義可能部分<br>
1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,<br>
// 3x<br>
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,<br>
// 4x<br>
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,<br>
// 5x<br>
941,942,943,944,945,946,947,948,949,950,951, 0, 0, 0, 0, 0,<br>
// 6x 金色オブジェ5パターン 赤　緑　灰　黒BM98金色（新オブジェ）<br>
730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,<br>
// 7x 金A B C D E F G H I J K L M N O P <br>
746,747,748,749,750,751,752,753,754,755,760,761,762,763,764,765,<br>
// 8x Q R S T U V W X Y Z a b c d e f<br>
766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,<br>
// 9x g h i j k l m n o p q r s t u v<br>
782,783,784,785,790,791,792,793,794,795, 0, 0, 0, 0, 0, 0,<br>
// ax w x y z - &quot; ! ? &amp; .<br>
800,801,805,806,807,808,810,811,812,910,911,912,913,940, 0, 0,<br>
// bx BM ﾚｺｰﾄﾞSong SP DP BPM ﾋﾄ ★　☆ 1P 2P 1Pd
2Pd 坂田<br>
850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,<br>
// cx 白A B C D E F G H I J K L M N O P <br>
866,867,868,869,870,871,872,873,874,875,876,877,878,879,890,891,<br>
// dx Q R S T U V W X Y Z / . ! % @ ?<br>
720,721,722,723,724,725,726,727,728,729, 0, 0, 0, 0, 0, 0,<br>
// ex 金0 1 2 3 4 5 6 7 8 9<br>
880,881,882,883,884,885,886,887,888,889, 0, 0, 0, 0, 0, 0<br>
// fx 白0 1 2 3 4 5 6 7 8 9<br>
};<br>
</font></p>

<p><font face="ＭＳ ゴシック">ちゅーことで、０５チャンネルにデータを送信することで、０１〜ＦＦまで、２５５種類のキャラクタを表示させるができるわけだが、それが何番のスプライトに対応するものであるかは、この表を見れば一目瞭然だ。（ただし、やねうらおにのみ：笑）</font></p>

<p><font face="ＭＳ ゴシック">たとえば、キャラクタナンバー０１は、スプライトナンバー９６１である。（ユーザー定義可能部分）<br>
また、キャラクターナンバー５０は、スプライトナンバー９４１であり、それは金色オブジェである。<br>
はたまた、キャラクターナンバーＤ２は、スプライトナンバー８６７であり、それは、Ｒという白い文字である。</font></p>

<p><font face="ＭＳ ゴシック">というようになっている。ということで、実は、第５チャンネルだけで、拡張キャラクタとして、文字などをオブジェとして落下させることができる。</font></p>

<p><font face="ＭＳ ゴシック">さらに、ここで、問題となるのは、スプライトナンバー961〜1023がユーザー定義可能部分として解放されていることである。ここに来て、さきほどの</font></p>

<p>#ExtChr &lt;SpriteNo.&gt; &lt;BMPNo.&gt; &lt;start_x&gt;
&lt;start_y&gt; &lt;end_x&gt; &lt;end_y&gt;　{ &lt;offset_x&gt;
&lt;offset_y&gt; { &lt;x&gt; &lt;y&gt; } } </p>

<p><font face="ＭＳ ゴシック">が初めて意味を持つ。{
}の部分は省略可能ということ。</font></p>

<p><font face="ＭＳ ゴシック">#ExtChr 961 1 0 0 99 99</font></p>

<p><font face="ＭＳ ゴシック">などとすれば、スプライトナンバー９６１を、ビットマップナンバー１（これは、#bmpで定義したときのビットマップナンバー）の（０，０）から（９９，９９）の１００×１００ドットの部分として定義するという意味である。これにより、ユーザーで用意した任意のビットマップの特定の部分をユーザースプライトとして定義することが可能となり、それをさきほどのExtended
Objectで表示することが可能だというわけだ。（といま思い出した：笑）</font></p>

<p>そして、&lt;offset_x&gt; &lt;offset_y&gt;をオプションで指定できるが、これは、オブジェ位置を調整するためにある。</p>

<p>たとえば、オブジェを表示するとき、オブジェ高さを表示段階で参照して、そのオブジェの下面にプレイポイントが来るようにするのは、あまり洗練されたプログラムではないとやねうらおは考えたわけだ。このころ、ぽっぷんの移植のことが少し頭にあったので、オブジェクトの下面がプレイポイントでないこともありうることを多少意識もしていたのだ。</p>

<p>そこで、オフセットを持たせることにした。たとえば、（−５，−１０）のオフセットを持つスプライトに対しては、（１００，１２０）の座標に表示しなさい、と命令しても（９５，１１０）の座標に表示されるわけである。このようにすることによって、内部的には、（１００，１２０）の座標で管理できる。すなわち、プレイポイントに表示するように指示しておけば、それのスプライト表示の段階で、適切なオフセットを得て、適切な位置に表示されるという仕組みである。</p>

<p>ただ、そのことに気づいたのは、ｖｅｒ３．１６あたりなので、スクラッチは実はオフセットを持っていなかった。（と思う）　それの調整を行なうためにも、このオフセット値は重要である。</p>

<p>最後のオプションのＸ，Ｙだが、この指定があると、画面上の、その座標位置にそのスプライトを配置するのである。鍵盤のデザインを変更したり、DanceDanceRevolutionのようにぺたんと大きな矢印を用意したりすることの可能だ。また、いま定義されているスプライトを上から定義して、画面外に追い出し、表示されないようにすることもできる。</p>

<p>　</p>

<p>わくわくしてきたところで、どのスプライトナンバーが何であるのか、その割付を完全に知りたいと思う人もいるだろう。そうでなければ、いまある鍵盤を別のキャラクタに再定義してしまうというようなことができないからである。</p>

<p>そこで、以下には、スプライト定義のためのルーチンをそのまま抜粋する。メモのようにして、何番が何であるか記されている。ただし、dynamicと書いてある部分は、動的に変更されるから、こいつを変えても無駄である。また、スプライトは、原則的に０〜５１１までが表示されるもので、あと５１２〜１０２３は、非表示であって、実行段階で、１０番のスプライトは５１３番のスプライトをコピーせよ！などとして、１０番にスプライト特性情報を持ってきて、１０番のスプライトを画面表示することにより、５１３番のスプライトを画面表示することにしてある。このようにすることにより、一種類のスプライトを複数個表示したりすることが簡単になるし、何より管理の手間が楽になる。</p>

<p>しかし、増やしすぎて、５１２個では足りなくなったため、ネオン表示用に１０２４〜１０８７を使っていたような気もする。（なんかダサイなあ．．．）</p>

<p>まあ、このへんは突貫工事なので深くはつっこまないように（笑）</p>

<p>　</p>

<p>void DefSpriteGames(void) //
ゲーム画面のためのスプライト初期化<br>
{<br>
int i;<br>
for(i=0;i&lt;512*2+64;i++) {<br>
ySpriteMove(i,-10000,-10000); // 全クリア<br>
ySpriteVisible(i,true);<br>
} <br>
<br>
// 00 - 11 : (dynamic sprite) Greatの爆発アニメ用<br>
// 12-75 : Score表示用 (61-76 : AutoPlay表示用)<br>
// 71-75 : (dup.) CPU % 負荷率表示用<br>
<br>
// 77-79 : 空きのはず．．<br>
<br>
// 80,81,82,83,84,85,86,87,88 : 1P側の鍵盤フラッシュ＆スクラッチ<br>
// 89,90,91,92,93,94,95,96,97 : 2P側の鍵盤フラッシュ＆スクラッチ<br>
<br>
// kazu:光っているキーボードの個別パーツ。<br>
yDefSprite(80,112,1,123,25); // １（上部）<br>
ySpriteMove(80,SCR1P1+1,SCRDWN3-1);<br>
yDefSprite(81,112,26,133,46); // １（下部）<br>
ySpriteMove(81,SCR1P1+1,SCRDWN3+25-1);<br>
<br>
yDefSprite(82,124,1,140,25); // ２<br>
ySpriteMove(82,SCR1P2+2,SCRDWN3);<br>
<br>
yDefSprite(83,141,1,146,25); // ３（上部）<br>
ySpriteMove(83,SCR1P3+8,SCRDWN3-1);<br>
yDefSprite(84,133,26,154,46); // ３（下部）<br>
ySpriteMove(84,SCR1P3+1,SCRDWN3+25-1);<br>
<br>
yDefSprite(85,147,1,163-1,25); // ４<br>
ySpriteMove(85,SCR1P4+4,SCRDWN3);<br>
<br>
yDefSprite(86,164-2,1,175,25); // ５（上部）<br>
ySpriteMove(86,SCR1P5+9,SCRDWN3-1);<br>
yDefSprite(87,154,26,175,46); // ５（下部）<br>
ySpriteMove(87,SCR1P5+1,SCRDWN3+25-1);<br>
<br>
yDefSprite(88,177,2,210,46); // スクラッチ<br>
ySpriteMove(88,SCR1P6+2,SCRDWN3);<br>
<br>
for(i=80;i&lt;=88;i++){<br>
ySpriteCopy(i+9,i); // かしこいなー俺:p<br>
ySpriteAdd(i+9,SCROFS,0); // スプライト相対移動<br>
}<br>
<br>
// 98,99 : 画面下のキーボード（赤ライン除く）<br>
yDefSprite(98,1,1+5,100,89); // for 1P
ノーマルキーボード（全体。スクラッチ含む）<br>
ySpriteCopy(99,98); // for 2P<br>
<br>
// 100-309 : (dynamic sprite) ノート。１画面同時数200という制限はここから来る<br>
<br>
// 310,311 : 1P &amp; 2P &quot;Great / Good / Bad / Poor &quot;<br>
// NoteSprite.h
あっちゃで使うから、これ、使っちゃダメよん。<br>
<br>
// 312-315 : &quot;1P&quot;,&quot;2P&quot;<br>
<br>
// 316 - 325 : 縦小節線 (こっちの方が優先か...)<br>
for(i=0;i&lt;10;i++){<br>
yDefSprite(316+i,64,91,64,91+(SCRDWN&gt;&gt;1)-1);<br>
}<br>
ySpriteMove(316,SCR1P3,0); // もう移動しといちゃえ！<br>
ySpriteMove(317,SCR1P5,0); // もう移動しといちゃえ！<br>
ySpriteMove(318,SCR1P6,0); // もう移動しといちゃえ！<br>
ySpriteMove(319,SCR1P3,SCRDWN&gt;&gt;1); //
もう移動しといちゃえ！<br>
ySpriteMove(320,SCR1P5,SCRDWN&gt;&gt;1); //
もう移動しといちゃえ！<br>
ySpriteMove(321,SCR1P6,SCRDWN&gt;&gt;1); //
もう移動しといちゃえ！<br>
<br>
// 322-7 : 2P用縦小節線<br>
<br>
// 328-330 : CPU負荷率<br>
<br>
// 331-430 : (dynamic sprite) Voltage Meter<br>
<br>
// 431,432,433,434,435,436 : 1P
キーを叩いたときの赤の縦ライン<br>
// 437,438,439,440,441,442 : 2P
キーを叩いたときの赤の縦ライン<br>
for(i=431;i&lt;=442;i++){<br>
if (i==436 || i==442) {<br>
yDefSprite(i,65,91,99,91+160-1); // スクラッチライン<br>
} else {<br>
yDefSprite(i,65,91,84,91+160-1); // <br>
}<br>
ySpriteVisible(i,false); //
ディフォルトでは不可視やろ？<br>
}<br>
ySpriteMove(431,SCR1P1+1,0);<br>
ySpriteMove(432,SCR1P2+1,0);<br>
ySpriteMove(433,SCR1P3+1,0);<br>
ySpriteMove(434,SCR1P4+1,0);<br>
ySpriteMove(435,SCR1P5+1,0);<br>
ySpriteMove(436,SCR1P6+1,0);<br>
for(i=0;i&lt;6;i++){<br>
ySpriteCopy(437+i,431+i);<br>
ySpriteAdd(437+i,SCROFS,0);<br>
} <br>
<br>
for(i=0;i&lt;12;i++){<br>
ySpriteCopy(443+i,431+i);<br>
ySpriteAdd(443+i,0,SCRDWN&gt;&gt;1);<br>
}<br>
<br>
// 455-497 : for displaying debug message(dup.)<br>
// (455-486) : 画面フレーム他(定義は、BGScr.cpp)<br>
// (487-497) : INSERT COIN &amp; CREDITS 0/2<br>
<br>
// 498-499 : １Ｐ／２Ｐの下の赤ライン<br>
yDefSprite(498,1,1,100,5); // for 1P
ノーマルキーボード（全体。スクラッチ含む）<br>
// defined BGScr.cpp<br>
<br>
// 500-506 : FPSの表示用<br>
<br>
// 507 BM<br>
yDefSprite(507,340,345,426,374); //
ＢＭ９８タイトルロゴ・小<br>
<br>
// 508-511<br>
yDefSprite(508,174,48,176,52); // 右向き三角マーク<br>
yDefSprite(509,178,48,180,52); // 左向き三角マーク<br>
ySpriteCopy(510,509);<br>
ySpriteCopy(511,510);<br>
<br>
/* <br>
(117,1,121,73) // 小節左サイドの線<br>
(239,1,247,73) // 小節右サイドの線<br>
*/<br>
<br>
// 513-1023 : free　セコイことを言わずに豪快に使おう！<br>
for(i=0;i&lt;4;i++){<br>
yDefSprite(513+i,112,48+i*6,131,52+i*6); // 白オブジェ<br>
yDefSprite(523+i,133,48+i*6,152,52+i*6); // 黒オブジェ <br>
yDefSprite(533+i,147,147+i*6,180,151+i*6); // スクラッチ<br>
}<br>
yDefSprite(513+4,208,48,230,53); //
白オブジェのびよーん<br>
ySpriteOffset(513+4,-1,-1); // センタリング！<br>
yDefSprite(513+5,207,48,231,54); //
白オブジェのびよーん<br>
ySpriteOffset(513+5,-2,-2);<br>
<br>
yDefSprite(523+4,208,56,230,61); //
黒オブジェのびよーん <br>
ySpriteOffset(523+4,-1,-1);<br>
yDefSprite(523+5,207,56,231,62); //
黒オブジェのびよーん <br>
ySpriteOffset(523+5,-2,-2);<br>
<br>
yDefSprite(533+4,147,171,180,179); //
スクラッチのびよーん(1)<br>
yDefSprite(533+5,147,181,180,190); //
スクラッチのびよーん(2)<br>
<br>
// フリーゾーン（１拍分）<br>
yDefSprite(543,112,102,145,145-4);<br>
yDefSprite(544,147,102,180,145-4);<br>
yDefSprite(545,182,102,215,145-4);<br>
yDefSprite(546,112,147,145,190-4);<br>
yDefSprite(547,182,147,219,190); // びよーん BM98v3.16<br>
// ySpriteOffset(547,-2,0);<br>
yDefSprite(548,182,147,219,190); // びよーん BM98v3.16<br>
// ySpriteOffset(548,-2,0);<br>
<br>
yDefSprite(553,245,108,307,121); // GREAT<br>
yDefSprite(554,245,123,307,136); // GOOD<br>
yDefSprite(555,245,138,307,151); // BAD<br>
yDefSprite(556,245,153,307,166); // POOR<br>
<br>
yDefSprite(557,1,267,100,267); // 横小節線<br>
// ySetSpriteSize(557,120,1);<br>
<br>
// 赤文字<br>
for(i=0;i&lt;=9;i++){<br>
yDefSprite(560+i,245+i*12,168,255+i*12,183); // 0-9<br>
}<br>
<br>
yDefSprite(581,154,48,157,64); // ゲージ・緑（暗）<br>
yDefSprite(582,159,48,162,64); // ゲージ・緑（明）<br>
yDefSprite(583,164,48,167,64); // ゲージ・赤（暗）<br>
yDefSprite(584,169,48,172,64); // ゲージ・赤（明）<br>
<br>
for(i=0;i&lt;4;i++){<br>
yDefSprite(700+i,112+i*30,72,140+i*30,100); // GREAT爆発アニメ<br>
}<br>
<br>
// 0-9 , A-Z , a-z ...<br>
// 金色の文字<br>
yDefSprite(720,245,89,257,106); // 0<br>
yDefSprite(721,259,89,265,106); // 1<br>
yDefSprite(722,267,89,279,106); // 2<br>
yDefSprite(723,281,89,293,106); // 3<br>
yDefSprite(724,295,89,309,106); // 4<br>
yDefSprite(725,311,89,323,106); // 5<br>
yDefSprite(726,325,89,337,106); // 6<br>
yDefSprite(727,339,89,351,106); // 7<br>
yDefSprite(728,353,89,365,106); // 8<br>
yDefSprite(729,367,89,379,106); // 9<br>
<br>
yDefSprite(730,245,1,257,18); // A<br>
yDefSprite(731,259,1,271,18); // B<br>
yDefSprite(732,273,1,285,18); // C<br>
yDefSprite(733,287,1,299,18); // D<br>
yDefSprite(734,301,1,311,18); // E<br>
yDefSprite(735,313,1,323,18); // F<br>
yDefSprite(736,325,1,337,18); // G<br>
yDefSprite(737,339,1,351,18); // H<br>
yDefSprite(738,353,1,357,18); // I<br>
yDefSprite(739,359,1,371,18); // J<br>
yDefSprite(740,373,1,387,18); // K<br>
yDefSprite(741,389,1,399,18); // L<br>
yDefSprite(742,401,1,421,18); // M<br>
yDefSprite(743,245,20,259,37); // N<br>
yDefSprite(744,261,20,273,37); // O<br>
yDefSprite(745,275,20,287,37); // P<br>
yDefSprite(746,289,20,301,39); // Q<br>
yDefSprite(747,303,20,315,37); // R<br>
yDefSprite(748,317,20,327,37); // S<br>
yDefSprite(749,329,20,341,37); // T<br>
yDefSprite(750,343,20,355,37); // U<br>
yDefSprite(751,357,20,369,37); // V<br>
yDefSprite(752,371,20,391,37); // W<br>
yDefSprite(753,393,20,405,37); // X<br>
yDefSprite(754,407,20,419,37); // Y<br>
yDefSprite(755,245,41,257,58); // Z<br>
<br>
yDefSprite(760,259,41,271,58); // a<br>
yDefSprite(761,273,41,285,58); // b<br>
yDefSprite(762,287,41,297,58); // c<br>
yDefSprite(763,299,41,311,58); // d<br>
yDefSprite(764,313,41,325,58); // e<br>
yDefSprite(765,327,41,337,58); // f<br>
yDefSprite(766,339,41,351,62); // g<br>
yDefSprite(767,353,41,365,58); // h<br>
yDefSprite(768,367,41,371,58); // i<br>
yDefSprite(769,373,41,383,62); // j<br>
yDefSprite(770,385,41,398,58); // k<br>
yDefSprite(771,400,41,404,58); // l<br>
yDefSprite(772,406,41,426,58); // m<br>
yDefSprite(773,245,64,257,81); // n<br>
yDefSprite(774,259,64,271,81); // o<br>
yDefSprite(775,273,64,285,85); // p<br>
yDefSprite(776,287,64,299,85); // q<br>
yDefSprite(777,301,64,311,81); // r<br>
yDefSprite(778,313,64,323,81); // s<br>
yDefSprite(779,325,64,333,81); // t<br>
yDefSprite(780,335,64,347,81); // u<br>
yDefSprite(781,349,64,361,81); // v<br>
yDefSprite(782,363,64,383,81); // w<br>
yDefSprite(783,385,64,397,81); // x<br>
yDefSprite(784,399,64,411,87); // y<br>
yDefSprite(785,413,64,425,81); // z<br>
<br>
yDefSprite(790,381,89,391,106); // -<br>
yDefSprite(791,393,89,399,106); // &quot;<br>
yDefSprite(792,401,89,405,106); // !<br>
yDefSprite(793,407,89,419,106); // ?<br>
yDefSprite(794,309,108,325,125); // &amp;<br>
yDefSprite(795,327,108,331,125); // .<br>
<br>
yDefSprite(800,201,229,426,314); //
ＢＭ９８タイトルロゴ・大<br>
yDefSprite(801,1,269,181,385); // レコード盤<br>
<br>
yDefSprite(805,183,316,426,343); // 「SONG SELECT」タイトル<br>
yDefSprite(806,183,345,338,364); // for Single Play<br>
yDefSprite(807,183,366,338,385); // for Double Play<br>
yDefSprite(808,309,127,385,156); // Auto BMP counter!<br>
<br>
yDefSprite(810,112,192,164,244); // ヒト<br>
yDefSprite(811,166+23,192+9,192+23,218+9); //
★（中身塗りつぶし）<br>
yDefSprite(812,194+23,192+9,220+23,218+9); //
☆（中身空洞）<br>
<br>
yDefSprite(820,182,48,185,51); //
リザルト表示用・赤い四角<br>
yDefSprite(821,187,48,190,51); //
リザルト表示用・緑色四角<br>
yDefSprite(822,182,102,186,105); //
リザルト表示用・ボーダ<br>
// スクラッチオブジェから借用:p<br>
<br>
yDefSprite(830,102,1,105,89); // 左側用・小<br>
yDefSprite(831,107,1,110,89); // 右側用・小<br>
yDefSprite(832,102,91,105,266); // 左側用・大(1)<br>
yDefSprite(833,107,91,110,266); // 右側用・大(1)<br>
// yDefSprite(834,245,203,420,206); // 上側用・大<br>
// yDefSprite(835,245,208,420,211); // 下側用・大<br>
yDefSprite(834,245,203,245+120-1,206); // 上側用・大<br>
yDefSprite(835,245,208,245+120-1,211); // 下側用・大<br>
yDefSprite(836,387,135,402,150); // 左上コーナー<br>
yDefSprite(837,387,152,402,167); // 右上コーナー<br>
yDefSprite(838,387,169,402,184); // 左下コーナー<br>
yDefSprite(839,387,186,402,201); // 右下コーナー<br>
yDefSprite(840,102,91,105,91+140-1); // 左側用・大(2)<br>
yDefSprite(841,107,91,110,91+140-1); // 右側用・大(2)<br>
<br>
yDefSprite(842,102,91,105,266-10); // 左側用・大(3) for
result<br>
yDefSprite(843,107,91,110,266-10); // 右側用・大(3)<br>
<br>
// 白いアルファベット<br>
yDefSprite(850,1,91,9,108); // A<br>
yDefSprite(851,11,91,19,108); // B<br>
yDefSprite(852,21,91,29,108); // C<br>
yDefSprite(853,31,91,39,108); // D<br>
yDefSprite(854,41,91,48,108); // E<br>
yDefSprite(855,1,110,9,127); // F<br>
yDefSprite(856,11,110,19,127); // G<br>
yDefSprite(857,21,110,29,127); // H<br>
yDefSprite(858,31,110,33,127); // I<br>
yDefSprite(859,35,110,43,127); // J<br>
yDefSprite(860,45,110,53,127); // K<br>
yDefSprite(861,1,129,9,146); // L<br>
yDefSprite(862,11,129,21,146); // M<br>
yDefSprite(863,23,129,31,146); // N<br>
yDefSprite(864,33,129,41,146); // O<br>
yDefSprite(865,43,129,51,146); // P<br>
yDefSprite(866,1,148,9,165); // Q<br>
yDefSprite(867,11,148,19,165); // R<br>
yDefSprite(868,21,148,29,165); // S<br>
yDefSprite(869,31,148,39,165); // T<br>
yDefSprite(870,41,148,49,165); // U<br>
yDefSprite(871,1,167,9,184); // V<br>
yDefSprite(872,11,167,21,184); // W<br>
yDefSprite(873,23,167,31,184); // X<br>
yDefSprite(874,33,167,41,184); // Y<br>
yDefSprite(875,43,167,51,184); // Z<br>
yDefSprite(876,1,186,9,203); // &quot;/&quot;<br>
yDefSprite(877,11,186,13,203); // &quot;.&quot;<br>
yDefSprite(878,15,186,17,203); // &quot;!&quot;<br>
yDefSprite(879,19,186,27,203); // &quot;%&quot;<br>
yDefSprite(880,1,205,8,222); // 0<br>
yDefSprite(881,10,205,14,222); // 1<br>
yDefSprite(882,16,205,23,222); // 2<br>
yDefSprite(883,25,205,32,222); // 3<br>
yDefSprite(884,34,205,41,222); // 4<br>
yDefSprite(885,43,205,50,222); // 5<br>
yDefSprite(886,1,224,8,241); // 6<br>
yDefSprite(887,10,224,17,241); // 7<br>
yDefSprite(888,19,224,26,241); // 8<br>
yDefSprite(889,28,224,35,241); // 9<br>
<br>
// added by BM98v3.16<br>
yDefSprite(890,53,167,061,184); // @<br>
yDefSprite(891,29,186,37,203); // ?<br>
yDefSprite(892,39,186,41,203); // :<br>
yDefSprite(893,43,186,45,203); // ;<br>
yDefSprite(894,47,186,51,203); // [<br>
yDefSprite(895,53,186,57,203); // ]<br>
yDefSprite(896,52,205,60,222); // ^<br>
yDefSprite(897,37,224,40,241); // (<br>
yDefSprite(898,42,224,45,241); // )<br>
yDefSprite(899,47,224,51,241); // &quot;<br>
yDefSprite(900,53,224,54,241); // '<br>
yDefSprite(901,56,224,57,241); // |<br>
yDefSprite(902,59,224,61,243); // ,<br>
yDefSprite(903,1 ,243, 9,260); // _<br>
yDefSprite(904,11,243,19,260); // ~<br>
yDefSprite(905,21,243,28,260); // =<br>
yDefSprite(906,30,243,37,260); // -<br>
yDefSprite(907,39,243,47,260); // +<br>
yDefSprite(908,49,243,56,260); // *<br>
<br>
yDefSprite(910,245,185,270,201); // 1P<br>
yDefSprite(911,272,185,297,201); // 2P<br>
yDefSprite(912,299,185,324,201); // 暗い表示の「１Ｐ」<br>
yDefSprite(913,326,185,351,201); // 暗い表示の「２Ｐ」<br>
<br>
// ネオン系 B:Blue R:Red D:Dark T:Top C:Center B:Bottom<br>
for(i=0;i&lt;9;i++){<br>
yDefSprite(920+i,428,1+i*41,458,40+i*41);<br>
// RT,RC,RB,BT,BC,BB,DT,DC,DB<br>
}<br>
<br>
// 赤文字の小さいの（ＢＰＭ用）<br>
yDefSprite(930,317,213,323,227); // 0<br>
for(i=931;i&lt;=939;i++){<br>
yDefSprite(i,245+(i-931)*8,213,251+(i-931)*8,227);<br>
}<br>
<br>
yDefSprite(940,112,246,157,267); // sakata<br>
<br>
for(i=0;i&lt;3;i++){<br>
yDefSprite(941+i,175,54+i*6,194,58+i*6); // 金色オブジェ<br>
}<br>
yDefSprite(944,154,66,173,70);<br>
yDefSprite(945,207,64,231,70);<br>
<br>
for(i=0;i&lt;6;i++){<br>
yDefSprite(946+i,166,192+i*6,185,196+i*6);<br>
// 946 赤・947 緑・948 灰・949 くろ・950 bm98・ 951金色<br>
}<br>
<br>
}</p>

<p>　</p>

<p>基本的に、ＢＭＲでも、Extended Object/Chracterの機能は持たせるつもりではいるが、もうちょっと洗練されたものにする予定でいる。</p>

<p>なお、ここにある機能を使うと、曲データとして、ＢＭ９８曲データフォーマットに準拠したものではなくなるため、他のＢＭ９８用のビュアー等で見ることができなくなることを、あらかじめお断りしておく。</p>

<p>以上。</p>

<p>　</p>

<p><a href="http://www.sun-inet.or.jp/~yaneurao/">戻る</a></p>
</body>
</html>
